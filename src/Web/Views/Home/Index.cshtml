@model Web.Models.SearchViewModel
@{
    ViewData["Title"] = "Utilant Coding Exercise";
}

<form asp-controller="Home" asp-action="Index">
    <section class="search">
        <input type="text" name="search" value="@Model.SearchValue" />
        <input type="submit" value="Search" />
        <a id="reset" asp-controller="Home" asp-action="Index">Reset</a>
    </section>

    <section class="results">
        @if (@Model.Albums.Count == 0)
        {
            <h2>No results found</h2>
        }
        else
        {
    <section class="pages">
        @foreach (var page in Enumerable.Range(1, Model.PageCount))
        {
            if (page == @Model.Page)
            {
                <span class="current">@(page)</span>
            }
            else
            {
                <span onclick="post({page:@(page)});">@(page)</span>    
            }
        }
    </section>
            @foreach (var album in @Model.Albums)
            {
                <section class="album">
                    <h2 class="title" onclick="post({ albumId: @(album.Selected ? 0 : album.AlbumId), page:@(Model.Page) });">@album.Title</h2>
                    <img src="@album.Thumbnail" onclick="post({ albumId: @(album.Selected ? 0 : album.AlbumId), page:@(Model.Page) });"/>
                    <section class="user">
                        <h3>@album.UserName</h3>
                        <label>@album.Email</label>
                        <label>@album.Phone</label>
                        <label>@album.AddressLine1</label>
                        <label>@album.AddressLine2</label>
                        <label>@album.AddressLine3</label>
                    </section>

                    @if (album.Selected)
                    {
                        <section class="photos">
                            @foreach (var photo in album.Photos)
                            {
                                <figure>
                                    <img src="@photo.Thumbnail"/>
                                    <figcaption>@photo.Title</figcaption>
                                </figure>
                            }
                        </section>
                    }
                </section>
            }
        }
    </section>
    <input type="hidden" name="albumId" />
    <input type="hidden" name="page" />
</form>